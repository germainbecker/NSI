<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">&#182;</a></h1><p>Un r√©seau informatique permet de relier les diff√©rentes machines afin qu'elles puissent communiquer.</p>
<p>Un message √©chang√© entre deux machines est d√©coup√©e en paquets, et chacun de ces paquets transite ind√©pendamment des autres sur le r√©seau de la machine √©mettrice √† la machine destinataire qui reconstitue le message √† partir des diff√©rents paquets.</p>
<p>Un r√©seau est en r√©alit√© un ensemble de sous-r√©seaux interconnect√©s par des machines particuli√®res appel√©es <strong>routeurs</strong>. Les interconnexions peuvent √™tre de natures diverses : Ethernet, Wi-Fi, fibre optique, c√¢ble t√©l√©phonique, liaison par satellite, etc.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img class="image-responsive centre" src="data/Cisco7600seriesrouter.jpg"></p>
<p style="text-align:center;color:#888;font-size:0.9em">Un routeur CISCO (Cr√©dits : Cisco Systems, <a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank">CC BY-SA 3.0</a>, via <a href="https://commons.wikimedia.org/wiki/File:Cisco7600seriesrouter.jpg" target="_blank">Wikimedia Commons</a>).</p><p><img class="image-responsive centre" src="data/Routeur-wifi.jpg" width="600"></p>
<p style="text-align:center;color:#888;font-size:0.9em">Un routeur Wi-Fi (Cr√©dits : Vascer, licence <a href="http://artlibre.org/licence/lal/en/" target="_blank">FAL</a>, via <a href="https://commons.wikimedia.org/wiki/File:Routeur-wifi.jpg" target="_blank">Wikimedia Commons</a>).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ce sont ces routeurs qui jouent un r√¥le essentiel dans la transmission des paquets sur Internet puisque ce sont eux qui d√©terminent la <em>meilleure</em> route que doit emprunter un paquet pour aller jusqu'√† destination. Pour cela, chaque routeur dispose d'une <strong>table de routage</strong> qui peut √™tre d√©finie manuellement (par un administrateur, souvent pour des petits r√©seaux comme celui d'une entreprise, d'une √©cole, etc.) ou dynamiquement gr√¢ce √† des <strong>algorithmes de routage</strong> sp√©cifiques. Nous √©tudierons dans ce chapitre deux protocoles de routage dynamique : RIP et OSPF.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Topologie-d'un-r&#233;seau"><em>Topologie</em> d'un r&#233;seau<a class="anchor-link" href="#Topologie-d'un-r&#233;seau">&#182;</a></h1><p>L'interconnexion des routeurs forme ce que l'on appelle la <em>topologie</em> d'un r√©seau.</p>
<p>Dans la suite, on consid√©rera le r√©seau suivant (adapt√© du cours de Gilles Lassus, lien dans les r√©f√©rences √† la fin) :</p>
<p><img class="centre image-responsive" src="data/reseau_cours.svg" alt="topologie d'un r√©seau" width="800"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dans ce r√©seau, il y a :</p>
<ul>
<li>4 routeurs : R1, R2, R3 et R4 ;</li>
<li>6 sous-r√©seaux : A, B, C, D, E et F.</li>
</ul>
<p>Chaque routeur poss√®de au moins deux cartes r√©seaux qui lui permet de relier au moins deux sous-r√©seaux (sinon, il ne sert √† rien). Ainsi, un routeur appartient √† chacun des sous-r√©seaux qu'il relie et poss√®de donc plusieurs adresses IP : une par sous-r√©seaux auquel il appartient.</p>
<p>Par exemple, le routeur R1 :</p>
<ul>
<li>interconnecte trois r√©seaux : <code>192.168.0.0/24</code> (F), <code>10.0.5.0/24</code> (A) et <code>172.17.1.0/24</code> (E) </li>
<li>poss√®de trois adresses : <code>192.168.0.1</code> (son adresse dans le sous-r√©seau F), <code>10.0.5.1</code> (son adresse dans le sous-r√©seau A) et <code>172.17.1.1</code> (son adresse dans le sous-r√©seau E).</li>
</ul>
<p>Par soucis de simplification, on a donn√© des noms (A, B, ...) √† chaque sous-r√©seau mais il faut savoir qu'en r√©alit√© c'est l'adresse IP de chaque sous-r√©seau qui est utilis√©e. Par exemple, le sous-r√©seau A poss√®de l'adresse IP <code>10.0.5.0</code> et le masque de ce sous-r√©seau est <code>24</code>.</p>
<blockquote><p><span style="font-size:1.5em">‚úçÔ∏è</span> Faites l'activit√© d'introduction sur l'adressage IP, les r√©seaux et les masques.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Tables-de-routage">Tables de routage<a class="anchor-link" href="#Tables-de-routage">&#182;</a></h1><p>Imaginons que l'ordinateur (client) d'adresse <code>192.168.0.5</code> veut interroger le serveur <code>10.4.8.5</code>.</p>
<p>Comme l'adresse IP du serveur n'est pas dans le sous-r√©seau F, alors l'ordinateur transmet le message au routeur R1 de son r√©seau local. Ce dernier regarde alors dans sa table de routage pour d√©terminer vers quel routeur voisin il doit transmettre le message. Chaque routeur r√©ceptionnant le message proc√®de ensuite de la m√™me mani√®re jusqu'√† atteindre le dernier routeur appartenant au r√©seau local de l'adresse recherch√©e.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>La table de routage d'un routeur contient plusieurs colonnes :</p>
<ul>
<li>une <em>destination</em> sous la forme d'une adresse sous-r√©seaux/masque ;</li>
<li>une <em>passerelle</em> qui donne l'adresse IP du prochain routeur voisin pour atteindre cette destination ;</li>
<li>une <em>interface</em> qui indique la carte r√©seau (ou interface r√©seau) √† utiliser pour atteindre la passerelle ;</li>
<li>une <em>m√©trique</em> indiquant le "co√ªt" pour atteindre la destination.</li>
</ul>
<p>Par exemple, la table de routage de R1 pourrait √™tre :</p>
<table>
<thead><tr>
<th>Destination (@IP ss-r√©s)</th>
<th>Passerelle (@IP routeur)</th>
<th>Interface</th>
<th>M√©trique</th>
</tr>
</thead>
<tbody>
<tr>
<td>192.168.0.0 /24 (F)</td>
<td></td>
<td>wlan0</td>
<td></td>
</tr>
<tr>
<td>172.17.1.0 /24 (E)</td>
<td></td>
<td>fasteth0</td>
<td></td>
</tr>
<tr>
<td>10.0.5.0 /24 (A)</td>
<td></td>
<td>eth0</td>
<td></td>
</tr>
<tr>
<td>10.5.2.0 /24 (B)</td>
<td>172.17.1.2 (R2)</td>
<td>fasteth0</td>
<td></td>
</tr>
<tr>
<td>10.7.3.0 /24 (C)</td>
<td>10.0.5.2 (R3)</td>
<td>eth0</td>
<td></td>
</tr>
<tr>
<td>10.4.8.0 /24 (D)</td>
<td>10.0.5.2 (R3)</td>
<td>eth0</td>
<td></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote class="information">
    <p>L'interface wlan0 indique que le routeur R1 est connect√© au r√©seau <code>192.168.0.0 /24</code> via une interface sans fil (wlan pour <em>Wireless Local Area Network</em>). Les interfaces fasteth0 et eth0 indiquent que le routeur R1 est connect√© respectivement √† chacun des r√©seaux <code>172.17.1.0 /24</code> et <code>10.0.5.0 /24</code> par une carte FastEthernet (fasteth) et Ethernet (eth), celles de num√©ro 0.</p>
    <p>On a laiss√© la colonne <em>M√©trique</em> vide car cela va d√©pendre du protocole utilis√©, comme on le verra par la suite.</p>
</blockquote>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Routage-statique-vs-routage-dynamique">Routage statique vs routage dynamique<a class="anchor-link" href="#Routage-statique-vs-routage-dynamique">&#182;</a></h2><p>Les tables de routage peuvent √™tre construites de mani√®re <em>statique</em> ou de mani√®re <em>dynamique</em>.</p>
<p>Dans le cas d'un routage statique, les tables sont d√©finies manuellement par l'administrateur. C'est simple √† mettre en oeuvre et le contr√¥le est facile ce qui am√®ne de la s√©curit√©. En revanche, ce n'est adapt√© qu'√† de petits r√©seaux (routage interne) comme le r√©seau d'une (petite) entreprise ou d'une √©cole car il faut mettre √† jour (manuellement) les tables de routage √† chaque nouvel √©quipement install√©, √† chaque panne ou √©quipement d√©fectueux.</p>
<p>Dans le cas d'un routage dynamique, les routeurs diffusent et partagent des informations pour indiquer quels r√©seaux sont atteignables par eux. En fonction des informations re√ßues chaque routeur peut alors mettre √† jour dynamiquement sa table de routage gr√¢ce √† des algorithmes de routage sp√©cifiques. Ce sont des algorithmes de meilleur chemin qui sont utilis√©s, et qui permettent de d√©finir les diff√©rentes m√©triques.</p>
<p>Nous allons maintenant voir deux routages dynamiques tr√®s connus mis en oeuvre par les <strong>protocoles RIP et OSPF</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Le-protocole-RIP">Le protocole RIP<a class="anchor-link" href="#Le-protocole-RIP">&#182;</a></h1><p>Le <strong>protocole RIP</strong>, pour <em>Routing Information Protocol</em> (ou "protocole d'information de routage" en fran√ßais), a √©t√© con√ßu d√®s l'origine d'Internet pour fonctionner sur des r√©seaux de taille mod√©r√©e.</p>
<p>Il utilise l'algorithme de Bellman-Ford qui pr√©voit que chaque routeur diffuse r√©guli√®rement (toutes les 30 secondes) √† ses voisins les routes qu'il conna√Æt, c'est-√†-dire la liste des r√©seaux qu'il peut atteindre et la distance, en <strong>nombre de sauts</strong>, pour les atteindre.</p>
<p>Ainsi, chaque routeur du r√©seau re√ßoit p√©riodiquement (30 sec.) les routes des routeurs voisins. Il les utilise pour effectuer les traitements suivants :</p>
<ul>
<li>il met alors √† jour sa propre table de routage :<ul>
<li>si une route re√ßue comprend un chemin plus court que celui qu'il connait : il modifie sa table avec ce plus court chemin</li>
<li>si une route n'est pas connue, il l'ajoute √† sa table en ajoutant 1 au nombre de sauts du voisin qui lui a transmis la route</li>
<li>sinon, il n'y a pas de changement</li>
</ul>
</li>
<li>il √©met sa table de routage √† tous ses routeurs voisins</li>
</ul>
<blockquote><p><span style="font-size:1.5em">‚úçÔ∏è</span> Faites l'exercice 1 sur le protocole RIP</p>
</blockquote>
<p>Si un routeur n'a aucune nouvelle d'un voisin pendant 3 minutes (180 sec., c'est le <em>premier timeout</em>), il consid√®re que ce voisin est en panne, toutes les routes passant par lui sont affect√©es dans la distance infinie (√©gale √† 16, voir en-dessous) et l'information est diffus√©e √† tous ses voisins qui diffuseront aussi l'information √† leurs voisins, etc. Au bout d'un certain temps suppl√©mentaire (<em>deuxi√®me timeout</em>), si un routeur n'a pas de nouvelle d'un voisin √† distance 16, la route est compl√®tement supprim√©e de sa table.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>L'√©mission p√©riodique des tables permet ainsi de prendre en compte :</p>
<ul>
<li>les √©volutions du r√©seaux (apparition/disparition d'un routeur) ;</li>
<li>la coupure des liaisons ;</li>
<li>la panne d'un ou plusieurs routeurs.</li>
</ul>
<p>Si tout se passe bien sur le r√©seau, les tables de routages <em>convergent</em> rapidement. La convergence est plus lente si des pannes ont lieu ou si de nouveaux routeurs apparaissent.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Par exemple, la table de routage du routeur R1 du r√©seau pr√©c√©dent peut √™tre la suivante (apr√®s convergence !) :</p>
<table>
<thead><tr>
<th>Destination (@IP ss-r√©s)</th>
<th>Passerelle (@IP routeur)</th>
<th>Interface</th>
<th>Nombre de sauts (m√©trique)</th>
</tr>
</thead>
<tbody>
<tr>
<td>192.168.0.0 /24 (F)</td>
<td></td>
<td>wlan0</td>
<td>1</td>
</tr>
<tr>
<td>172.17.1.0 /24 (E)</td>
<td></td>
<td>fasteth0</td>
<td>1</td>
</tr>
<tr>
<td>10.0.5.0 /24 (A)</td>
<td></td>
<td>eth0</td>
<td>1</td>
</tr>
<tr>
<td>10.5.2.0 /24 (B)</td>
<td>172.17.1.2 (R2)</td>
<td>fasteth0</td>
<td>2</td>
</tr>
<tr>
<td>10.7.3.0 /24 (C)</td>
<td>10.0.5.2 (R3)</td>
<td>eth0</td>
<td>2</td>
</tr>
<tr>
<td>10.4.8.0 /24 (D)</td>
<td>10.0.5.2 (R3)</td>
<td>eth0</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ainsi, avec le protocole RIP, si l'ordinateur d'adresse <code>192.168.0.5</code> veut interroger le serveur <code>10.4.8.5</code>, le chemin utilis√© sera R1-R3, pour un co√ªt √©gal √† 2 (qui est meilleur que le chemin R1-R2-R4-R3 de co√ªt √©gal √† 4).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Remarques et inconv√©nients</strong></p>
<ul>
<li>La <em>m√©trique</em> utilis√©e par le protocole RIP est donc la distance en <em>nombre de sauts</em>, autrement dit le nombre de routeurs travers√©s pour atteindre la destination (en comptant le routeur de d√©part).</li>
</ul>
<p>üëâ <em>Inconv√©nient</em> : le protocole RIP ne tient alors pas compte de la qualit√© des liaisons entre les routeurs : pourtant, il se peut tr√®s bien qu'une route plus <em>longue</em> (qui traverse davantage de routeurs) soit en r√©alit√© plus <em>rapide</em></p>
<ul>
<li>La distance maximale autoris√©e par le protocole RIP est √©gale √† 15, et ainsi 16 correspond √† la distance infinie.</li>
</ul>
<p>üëâ <em>Inconv√©nient</em> : cela limite l'utilisation du protocole RIP √† des r√©seaux de petite taille</p>
<ul>
<li>Les informations ne sont √©chang√©es qu'entre voisins directs</li>
</ul>
<p>üëâ <em>Inconv√©nient</em> : Un routeur n'a pas de vision au-del√† de ses propres voisins et n'a donc jamais connaissance de la topologie du r√©seau tout entier.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Les inconv√©nients √©voqu√©s ci-dessus (et ce ne sont pas les seuls), et en particulier la non-prise en compte de la bande passante reliant les routeurs (donc la qualit√© des liaisons) font que d'autres protocoles ont vu le jour. En particulier, le protocole OSPF a vu le jour dans l'id√©e de remplacer le protocole RIP.</p>
<blockquote><p><span style="font-size:1.5em">‚úçÔ∏è</span> Faites les exercices 2 et 3 sur le protocole RIP</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Le-protocole-OSPF">Le protocole OSPF<a class="anchor-link" href="#Le-protocole-OSPF">&#182;</a></h1><p>Le <strong>protocole OSPF</strong>, pour <em>Open Shortest Path First</em>, a √©t√© d√©v√©lopp√© √† partir de 1997 avec l'objectif de remplacer le protocole RIP dont on vient de citer quelques inconv√©nients.</p>
<p>Dans le protocole OSPF, et cela constitue deux diff√©rences fondamentales avec RIP, chaque routeur :</p>
<ul>
<li>poss√®de une <strong>vision globale</strong> de la topologie du r√©seau</li>
<li>poss√®de une table de routage qui tient compte de la <strong>vitesse de communication</strong> entre les routeurs, c'est-√†-dire de la qualit√© des liaisons (bande passante)</li>
</ul>
<blockquote><p>En particulier, le tables de routages du protocole OSPF sont identiques pour tous les routeurs.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Le protocole OSPF se d√©compose en deux phases importantes :</p>
<ul>
<li>1√®re phase : les routeurs s'√©changent des messages afin de <strong>conna√Ætre la topologie <em>compl√®te</em> du r√©seau</strong> (= toutes les liaisons ainsi que leurs d√©bits)</li>
<li>2√®me phase : chaque routeur applique ensuite un <strong>algorithme afin de calculer les chemins les plus rapides</strong> vers les diff√©rents r√©seaux</li>
</ul>
<p>Plus pr√©cis√©ment, chaque routeur :</p>
<ul>
<li>maintient une carte compl√®te du r√©seau (topologie)</li>
<li>calcule les meilleurs chemins localement</li>
<li>teste p√©riodiquement l'√©tat des liaisons qui le relie √† ses voisins et diffuse cet √©tat √† tous les routeurs du domaine.</li>
<li>√† la r√©ception d'un message :<ul>
<li>met √† jour la carte des liaisons</li>
<li>recalcule, pour chaque liaison modifi√©e, la nouvelle meilleure route</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Les-co&#251;ts-des-liaisons-selon-leur-type">Les co&#251;ts des liaisons selon leur type<a class="anchor-link" href="#Les-co&#251;ts-des-liaisons-selon-leur-type">&#182;</a></h2><p>Voici un tableau regroupant les diff√©rents types de liaison ainsi que leurs d√©bits th√©oriques :</p>
<table>
<thead><tr>
<th>Technologie</th>
<th>BP descendante</th>
<th>BP montante</th>
</tr>
</thead>
<tbody>
<tr>
<td>Modem</td>
<td>56 kbit/s</td>
<td>48 kbit/s</td>
</tr>
<tr>
<td>Bluetooth</td>
<td>3 Mbit/s</td>
<td>3 Mbit/s</td>
</tr>
<tr>
<td>Ethernet</td>
<td>10 Mbit/s</td>
<td>10 Mbit/s</td>
</tr>
<tr>
<td>Wi-Fi</td>
<td>10 Mbit/s ~ 10 Gbits/s</td>
<td>10 Mbit/s ~ 10 Gbits/s</td>
</tr>
<tr>
<td>ADSL</td>
<td>13 Mbit/s</td>
<td>1 Mbit/s</td>
</tr>
<tr>
<td>4G</td>
<td>100 Mbit/s</td>
<td>50 Mbit/s</td>
</tr>
<tr>
<td>Satellite</td>
<td>50 Mbit/s</td>
<td>1 Mbit/s</td>
</tr>
<tr>
<td>Fast Ethernet</td>
<td>100 Mbit/s</td>
<td>100 Mbit/s</td>
</tr>
<tr>
<td>FFTH (fibre)</td>
<td>10 Gbit/s</td>
<td>10 Gbit/s</td>
</tr>
<tr>
<td>5G</td>
<td>20 Gbit/s</td>
<td>10 Gbit/s</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Le protocole OSPF associe un <strong>co√ªt</strong> √† chaque type de liaison. Ce co√ªt est inversement proportionnel au d√©bit de transfert et s'obtient g√©n√©ralement par la formule :</p>
$$\text{co√ªt} = \dfrac{10^8}{\text{d√©bit}}$$<p>o√π $\text{d√©bit}$ est exprim√© en bit/s.</p>
<p>Ainsi, plus le d√©bit d'une liaison est important, plus le co√ªt associ√© est faible. Les liaisons les plus rapides sont donc celles qui auront le co√ªt le plus faible et donc celles privil√©gi√©es dans la recherche du meilleur chemin.</p>
<blockquote><p>Cette formule peut varier suivant les exercices, celle √† utiliser sera indiqu√©e dans l'√©nonc√© (c'est le num√©rateur qui peut varier).</p>
</blockquote>
<p>Avec cette formule :</p>
<ul>
<li>une liaison <em>Fast Ethernet</em> de d√©bit 100 Mbits/s, c'est-√†-dire $100 \times 10^6 = 10^8$ bit/s, aura un co√ªt √©gal √† $\dfrac{10^8}{10^8}=1$.</li>
<li>une liaison <em>Ethernet</em> de d√©bit 10 Mbits/s, c'est-√†-dire $10\times 10^6=10^7$ bits/s, aura un co√ªt √©gal √† $\dfrac{10^8}{10^7}=10$.</li>
<li>etc.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Exemple">Exemple<a class="anchor-link" href="#Exemple">&#182;</a></h2><p>Reprenons le r√©seau initial, en indiquant les d√©bits entre les diff√©rents routeurs.</p>
<p><img class="centre image-responsive" src="data/reseau_cours.svg" alt="topologie d'un r√©seau" width="800"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On simplifie sa repr√©sentation en dessinant uniquement les r√©seaux ainsi que les routeurs et les <em>d√©bits</em> entre eux.</p>
<p><img class="centre image-responsive" src="data/ospf1_v3.png" alt="sch√©ma du r√©seau" width="800"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On peut alors calculer le co√ªt de chaque liaison pour obtenir le <em>graphe pond√©r√©</em> suivant :</p>
<p><img class="centre image-responsive" src="data/ospf2_v3.png" alt="sch√©ma du r√©seau" width="800"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Construction-de-la-topologie-du-r&#233;seau">Construction de la topologie du r&#233;seau<a class="anchor-link" href="#Construction-de-la-topologie-du-r&#233;seau">&#182;</a></h3><p>En pratique, avec OSPF les routeurs communiquent entre eux pour d√©terminer la topologie compl√®te du r√©seau :</p>
<ul>
<li>au d√©marrage, un routeur envoie des messages (que l'on appellent <em>messages HELLO</em>) √† tous les routeurs auxquels il est connect√©.</li>
<li>Ces derniers lui r√©pondent et permettent ainsi au routeur de d√©part de prendre connaissance de ses voisins. Comme il conna√Æt les bandes passantes vers chacun de ces voisins, il peut initialiser sa vision de la topologie du r√©seau dans sa table de routage avec les liaisons vers ses voisins.</li>
<li>Apr√®s la phase d'initialisation, les routeurs s'√©changent des paquets (que l'on appellent <em>paquets LSA</em>, pour <em>Link State Advertisement</em>) contenant leurs connaissances du r√©seau. Ainsi, au bout d'un certain nombre d'√©changes, tous les routeurs du r√©seau ont la m√™me vision du r√©seau (celui correspondant √† leur zone).</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dans le cas du r√©seau pr√©c√©dent, lorsque les √©changes sont termin√©s, la topologie du r√©seau vue par R1 (ou tout autre routeur de la zone) est la suivante :</p>
<table>
<thead><tr>
<th>Lien</th>
<th>Sous-r√©seau</th>
<th>Co√ªt</th>
</tr>
</thead>
<tbody>
<tr>
<td>R1-R2</td>
<td>172.17.1.0 /24</td>
<td>1</td>
</tr>
<tr>
<td>R1-R3</td>
<td>10.0.5.0 /24</td>
<td>10</td>
</tr>
<tr>
<td>R2-R4</td>
<td>10.5.2.0 /24</td>
<td>1</td>
</tr>
<tr>
<td>R3-R4</td>
<td>10.7.3.0 /24</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Calculs-des-plus-courts-chemins">Calculs des plus courts chemins<a class="anchor-link" href="#Calculs-des-plus-courts-chemins">&#182;</a></h3><p>La topologie du r√©seau √©tant connue, on peut passer √† la derni√®re phase du protocole OSPF : chaque routeur applique un algorithme pour d√©terminer les plus courts chemins vers chaque sous-r√©seau et construit sa table de routage avec les meilleures routes.</p>
<table>
<thead><tr>
<th>Destination (@IP ss-r√©s)</th>
<th>Passerelle (@IP routeur)</th>
<th>Interface</th>
<th>Co√ªt (m√©trique)</th>
</tr>
</thead>
<tbody>
<tr>
<td>192.168.0.0 /24 (F)</td>
<td></td>
<td>wlan0</td>
<td>0</td>
</tr>
<tr>
<td>172.17.1.0 /24 (E)</td>
<td></td>
<td>fasteth0</td>
<td>1</td>
</tr>
<tr>
<td>10.0.5.0 /24 (A)</td>
<td></td>
<td>eth0</td>
<td>10</td>
</tr>
<tr>
<td>10.5.2.0 /24 (B)</td>
<td>172.17.1.2 (R2)</td>
<td>fasteth0</td>
<td>2</td>
</tr>
<tr>
<td>10.7.3.0 /24 (C)</td>
<td>172.17.1.2 (R2)</td>
<td>fasteth0</td>
<td>4</td>
</tr>
<tr>
<td>10.4.8.0 /24 (D)</td>
<td>172.17.1.2 (R2)</td>
<td>fasteth0</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dans notre exemple, on se rend compte que pour aller de l'ordinateur au serveur, le chemin le plus rapide n'est plus R1-R3 (avec le protocole RIP), mais R1-R2-R4-R3 avec un co√ªt de 4 (contre 10 pour R1-R3).</p>
<blockquote><p><strong>Remarque</strong> : Dans l'exemple pr√©c√©dent les co√ªts d'acc√®s aux diff√©rents r√©seaux n'ont pas √©t√© indiqu√©s. Ils sont g√©n√©ralement communs aux diff√©rentes routes potentielles et n'entrent pas en compte pour calculer les meilleures routes. Par contre, si un r√©seau est accessible via deux routeurs avec des d√©bits diff√©rents, il faudrait en tenir compte.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p><span style="font-size:1.5em">‚úçÔ∏è</span> Faites l'exercice 4 sur le protocole OSPF.</p>
</blockquote>
<p>Ici, le r√©seau est <em>petit</em> pour l'exemple, et un humain peut rapidement d√©terminer le chemin le plus court en un coup d'oeil. En r√©alit√©, c'est un algorithme qui calcule le chemin le plus court dans le graphe pond√©r√© obtenu, qui peut √™tre bien plus complexe.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Algorithme-de-Dijkstra">Algorithme de Dijkstra<a class="anchor-link" href="#Algorithme-de-Dijkstra">&#182;</a></h2><p>Le protocole OSPF est bas√© sur l'<strong>algorithme de Dijkstra</strong> pour trouver le chemin le plus court (= le plus rapide !). C'est un algorithme d√©couvert en 1959 par le math√©maticien et informaticien n√©erlandais <a href="https://fr.wikipedia.org/wiki/Edsger_Dijkstra">Edsger Dijkstra</a>.</p>
<p>Cet algorithme n'est <em>a priori</em> pas au programme de Terminale NSI, mais son principe est tr√®s simple √† comprendre et √† appliquer. Voici une <a href="https://www.youtube.com/watch?v=rHylCtXtdNs&amp;ab_channel=YvanMonka">vid√©o</a> pr√©sentant son fonctionnement :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="video-reponsive">
    <iframe class="centre" width="683" height="384" src="https://www.youtube.com/embed/rHylCtXtdNs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p><span style="font-size:1.5em">‚úçÔ∏è</span> Faites l'exercice 5 sur l'algorithme de Dijkstra et les exercices bilan 6, 7 et 8.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Routage-mondial">Routage mondial<a class="anchor-link" href="#Routage-mondial">&#182;</a></h1><p>Le monde IP est divis√© en <em>domaines administratifs</em> (ou <em>Admnistrative System</em> en anglais) qui sont des zones dans lesquelles n'exerce qu'une seule autorit√© (ex: FAI ou ISP en anglais, pour <em>Internet Service Provider</em>) ayant diff√©rentes t√¢ches comme l'administration des adresses, la facturation des co√ªts, la s√©curisation et l'organisation des domaines de routage.</p>
<p>Chaque domaine administratif est lui-m√™me divis√© en diff√©rents <strong>Syst√®mes Autonomes</strong> (ou <em>Autonomous System</em> en anglais, souvent abr√©g√© <strong>AS</strong>). Un Syst√®me Autonome est :</p>
<ul>
<li>un ensemble de r√©seaux interconnect√©s partageant la m√™me strat√©gie de routage (ex : entreprise, campus, coeur d'un r√©seau national, FAI, ...)</li>
<li>identifi√© par un num√©ro unique (ASN, pour <em>Autonomous System Number</em>)</li>
<li>dans lequel tous les routeurs internes √† ce syst√®me ob√©issent au m√™me protocole de routage (comme RIP et OSPF, mais il en existe d'autres : IGRP, EIGPR, IS-IS).</li>
</ul>
<p>Les AS sont reli√©s entre eux par des routeurs externes charg√©s de transf√©rer les informations de routage entre les diff√©rents AS (ces routeurs externes utilisent d'autres protocoles comme BGP pour <em>Border Gateway Protocol</em>, mais ce n'est pas le seul).</p>
<blockquote><p>Ce que nous avons racont√© dans ce cours sur RIP et OSPF s'applique donc √† des r√©seaux qui sont des AS.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img class="image-responsive centre" src="data/routage_mondial.jpg"></p>
<p style="text-align:center;color:#888;font-size:0.9em">Le routage mondial. Source : <a href="https://www.ciscopress.com/articles/article.asp?p=2832406&seqNum=8" target="_blank">ciscopress.com</a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote class="information">
    <p>En 2019, il y avait plus de 91 000 AS contre 35 000 en 2010 et 5 000 en 1999. Pour plus d'informations, voir cet article Wikip√©dia : <a href="https://fr.wikipedia.org/wiki/Autonomous_System" target="_blank">Autonomous System</a>.</p>
</blockquote>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Bilan">Bilan<a class="anchor-link" href="#Bilan">&#182;</a></h1><ul>
<li>Les machines communiquement entre elles gr√¢ces √† des <strong>routeurs</strong>.</li>
<li>Les routeurs utilisent leur <strong>table de routage</strong> pour d√©terminer la <em>meilleure</em> route pour acheminer les paquets jusqu'√† destination. Ces tables peuvent √™tre d√©finies manuellement, ce qui reste adapt√© sur un domaine restreint (routage interne) mais qui est inadapt√© pour le r√©seau mondial o√π les tables doivent √©voluer dynamiquement.</li>
<li><strong>RIP</strong> et <strong>OSPF</strong> sont deux protocoles de <em>routage dynamique</em> dans lesquels les routeurs s'√©changent p√©riodiquement des messages pour indiquer quels r√©seaux on peut atteindre par eux, permettant de mettre √† jour dynamiquement les tables de routage gr√¢ce √† des <strong>algorithmes de routage</strong> sp√©cifiques. Ces algorithmes utilisent une <strong>m√©trique</strong> pour mesurer la <em>distance</em> entre un routeur et le r√©seau de destination, et permettent notamment une reconfiguration rapide en cas de <strong>changement de topologie</strong> du r√©seau.</li>
<li>Dans le protocole RIP, les routeurs connaissent seulement leurs voisins et n'ont pas connaissance de la topologie compl√®te du r√©seau. L'algorithme utilis√© (Bellman-Ford) tient compte du <strong>nombre de sauts</strong> (= m√©trique) pour trouver la meilleure route : celle dont le nombre de sauts est minimum, autrement dit la plus <em>courte</em>. C'est l'algorithme de routage dynamique le plus ancien, le plus simple et il est encore tr√®s utilis√©. En revanche, il ne tient pas compte de la qualit√© des liens entre les routeurs (d√©bit ou bande passante) et n'est pas tr√®s adapt√© pour des r√©seaux de grande taille.</li>
<li>Dans le protocole OSPF, cr√©√© pour remplacer RIP, la qualit√© des liens est prise en compte et les routeurs ont une vision compl√®te de la topologie du r√©seau. L'algorithme utilis√© (Dijkstra) tient compte du <strong>co√ªt</strong> (= m√©trique), qui d√©pend de la bande passante des liens franchis, pour trouver la meilleure route : celle dont le co√ªt est minimal, autrement dit la plus <em>rapide</em>. OSPF est tr√®s complet, tr√®s performant mais plus compliqu√© et consommateur de ressources dans les routeurs, on le r√©serve g√©n√©ralement √† de grands r√©seaux.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<p><strong>R√©f√©rences :</strong></p>
<ul>
<li>Equipe √©ducative DIU EIL, cours d'Introduction aux r√©seaux de P. PASSARD et S. HAMMA, Universit√© de Nantes.</li>
<li>Cours de Gilles Lassus sur les <a href="https://github.com/glassus/terminale_nsi/blob/main/docs/T5_Architecture_materielle/5.3_Protocoles_de_routage/cours.md">protocoles de routage</a> notamment pour les sch√©mas</li>
<li>Livre <em>Num√©rique et Sciences Informatiques, 24 le√ßons, Terminale</em>, T. BALABONSKI, S. CONCHON, J.-C. FILLIATRE, K. NGUYEN, √©ditions ELLIPSES.</li>
<li>Cours de Denis Quenton sur les <a href="https://angellier.gitlab.io/nsi/terminale/ProtocoleRoutage/partie_3/">r√©seaux</a></li>
<li>Cours d'Olivier Lecluse sur les <a href="https://www.lecluse.fr/nsi/NSI_T/archi/routage/">protocoles de routage</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<p>Germain BECKER, Lyc√©e Mounier, ANGERS</p>
<p>Ressource √©ducative libre distribu√©e sous <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licence Creative Commons Attribution - Pas d‚ÄôUtilisation Commerciale - Partage dans les M√™mes Conditions 4.0 International</a></p>
<p><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Licence Creative Commons"></p>

</div>
</div>
</div>
 

